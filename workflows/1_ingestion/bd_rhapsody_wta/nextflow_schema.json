{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "https://raw.githubusercontent.com/YOUR_PIPELINE/master/nextflow_schema.json",
    "title": "BD Rhapsody WTA pipeline parameters",
    "description": "Run the BD Rhapsody WTA workflow",
    "type": "object",
    "definitions": {
        "batch_mode": {
            "title": "Batch Mode",
            "type": "object",
            "description": "",
            "default": "",
            "properties": {
                "csv": {
                    "type": "string",
                    "description": "A csv file containing columns 'id', 'input'"
                },
                "reference_genome": {
                    "type": "string",
                    "description": "Path to STAR index as a tar.gz file"
                },
                "output": {
                    "type": "string",
                    "description": "Path to an output directory"
                },
                "transcriptome_annotation": {
                    "type": "string",
                    "description": "Path to GTF annotation file"
                }
            },
            "required": [
                "csv",
                "reference_genome",
                "output",
                "transcriptome_annotation"
            ]
        },
        "single_input_mode": {
            "title": "Single Input Mode",
            "type": "object",
            "description": "",
            "default": "",
            "properties": {
                "id": {
                    "type": "string",
                    "description": "ID of the sample"
                },
                "reference_genome": {
                    "type": "string",
                    "description": "Path to STAR index as a tar.gz file"
                },
                "input": {
                    "type": "string",
                    "description": "One or more fastq paths, separated with semicolons."
                },
                "transcriptome_annotation": {
                    "type": "string",
                    "description": "Path to GTF annotation file"
                },
                "output": {
                    "type": "string",
                    "description": "Path to an output directory"
                }
            },
            "required": [
                "reference_genome",
                "input",
                "transcriptome_annotation",
                "output"
            ]
        }
    },
    "oneOf": [
        {
            "$ref": "#/definitions/batch_mode"
        },
        {
            "$ref": "#/definitions/single_input_mode"
        }
    ]
}