{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "https://raw.githubusercontent.com/czbiohub/utilities/main/workflows/1_ingestion/cellranger_demux/main.nf",
    "title": "Cell Ranger Demux",
    "description": "Use cellranger demux to demultiplex sequencing BCL output to FASTQ.",
    "type": "object",
    "definitions": {
        "input_output": {
            "title": "Input/output",
            "type": "object",
            "description": "",
            "default": "",
            "properties": {
                "input": {
                    "type": "string",
                    "description": "Path to sequencer output folder",
                    "help_text": "The path to the output folder of the sequencing run.\n\n"
                },
                "samplesheet": {
                    "type": "string",
                    "description": "The sample sheet for the samples to be demultiplexed.",
                    "help_text": "The sample sheet to be used for the demultiplexing. This file contains the Lane, Sample and Index column. To select the lane use the corresponding lane value or the `*` for using all lanes. For Sample the id for the output fastqs has to be provided. For the Index the used 10x reference barcodes have to be supplied. For more information see [10x mkfastq](https://support.10xgenomics.com/single-cell-gene-expression/software/pipelines/latest/using/mkfastq).\n\n```\nLane,Sample,Index\n1,test_sample,SI-P03-C9\n```\n\n*Simple sample sheet*\n\n```\n[Data]\nLane,Sample_ID,Sample_Name,Sample_Plate,Sample_Well,I7_Index_ID,index,I5_Index_ID,index2,Sample_Project,Description\n1,s1,test_sample,,,SI-TT-D9,SI-TT-D9,SI-TT-D9,SI-TT-D9,p1,\n```\n*Dual indexing sample sheet.*"
                },
                "publishDir": {
                    "type": "string",
                    "description": "Path to the output folder which will contain the cell ranger output.",
                    "help_text": "The S3 output folder to write the data to which will contain the result data."
                }
            },
            "required": [
                "input",
                "transcriptome",
                "publishDir"
            ]
        }
    },
    "allOf": [
        {
            "$ref": "#/definitions/input_output"
        }
    ]
}